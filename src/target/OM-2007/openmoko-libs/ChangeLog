2007-06-12  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h:

	Add Dial and History stock items for openmoko-dialer

2007-06-05  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-finger-tool-box.c: (cb_configure): Use bg_pixmap as reference
	for compositing pixmap

2007-05-30  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-finger-tool-box.c: (cb_configure): Remove use of
	moko_application_get_style_pixmap_dir

2007-05-30  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-application.c:
	* libmokoui/moko-application.h:
	Remove moko_application_get_style_pixmap_dir()

	* libmokoui/moko-finger-tool-box.c: (cb_configure): Don't use
	moko_applicatoin_get_style_pixmap () as it uses some false assumptions.

2007-05-29  Thomas Wood  <thomas@openedhand.com>

	Patch by: Neil J Patel <njp@o-hand.com>

	* libmokojournal/src/moko-journal.c: (moko_journal_open_default),
	(moko_journal_close), (moko_journal_remove_entry_at),
	(moko_journal_remove_entry_by_uid),
	(moko_journal_write_to_storage), (on_entries_added_cb):
	* libmokojournal/src/moko-journal.h:

        - Adds ability to set callbacks for being notified when entrys 
          are added & removed from the journal.
        - Callbacks are called only when ecal updates, they are not 
          called for _add_entry or _remove_entry, as these are not
          persistent until write_to_storage is called. 

2007-05-22  Michael Lauer <mickey@openmoko.org>

	* libmokogsmd/moko-gsmd-connection.h: Add prototype for PIN request signal
	* libmokogsmd/moko-gsmd-connection.c:
	(_moko_gsmd_connection_eventhandler): Emit PIN request signal

2007-05-22  Thomas Wood  <thomas@openedhand.com>

	* libmokogsmd/moko-gsmd-connection.c:
	(_moko_gsmd_connection_source_dispatch): Prevent the mainloop from
	locking up if gsmd goes away

2007-05-18  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-pixmap-button.c:
	(moko_pixmap_button_set_center_stock): Add check before g_object_unref ()

2007-05-18  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-finger-tool-box.c: (cb_configure): Remove useless code
	(also currently is causing a crash)
	* libmokoui/moko-pixmap-button.c:
	(moko_pixmap_button_set_center_stock): Load center stock icons at the
	size they have been supplied by designers (36x36)

2007-05-18  Thomas Wood  <thomas@openedhand.com>

	Patch by: Neil J Patel <njp@o-hand.com>

	* libmokojournal/src/moko-journal.c:
	(moko_journal_entry_set_direction):
	* libmokojournal/src/moko-time.c: (moko_time_as_timet):
	* libmokojournal/src/moko-time.h:
	- Removes a g_return_if_fail on a enum.
	- Makes the moko_time_as_time_t accept a const MokoTime, to
	  suppress warnings.

2007-05-18  Thomas Wood  <thomas@openedhand.com>

	Patch by: Neil J Patel <njp@o-hand.com>

	* libmokoui/moko-tool-box.c: (_button_release),
	(moko_tool_box_init): Use a private boolean to store entry visibility

2007-05-18  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-message-dialog.c: (moko_message_dialog_init): Add
	padding and center align the message text

2007-05-17  Thomas Wood  <thomas@openedhand.com>

	* libmokogsmd/moko-gsmd-connection.h: Add MokoGsmdConnectionProgress

2007-05-17  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h:

	Modify/add stock items

2007-05-16  Thomas Wood  <thomas@openedhand.com>

	* libmokogsmd/moko-gsmd-connection.c:
	(moko_gsmd_connection_voice_dial): Fix logic

2007-05-15  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-message-dialog.c: (moko_message_dialog_map): Check for
	NULL before using g_object_unref(), as the inbuilt assertion is not
	available in openembedded.
	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h:
	Add two more stock items

2007-05-10  Thomas Wood  <thomas@openedhand.com>

	* libmokogsmd/moko-gsmd-connection.h: Include gsmd/error.h (for enums)
	* libmokoui/moko-message-dialog.c:
	(moko_message_dialog_realize_cb): Add some error trapping
	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h: Add MOKO_STOCK_HANDSET

2007-05-09  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-message-dialog.c:
	(moko_message_dialog_set_message),
	(moko_message_dialog_set_image_from_stock):
	* libmokoui/moko-message-dialog.h:
	Add moko_message_dialog_set_image () and replace some deprecated functions

2007-05-09  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/moko-application.c: (moko_application_init):
	* libmokoui/moko-stock.c: (moko_stock_register):
	* libmokoui/moko-stock.h:
	Add moko_stock_register

2007-05-02  Thomas Wood  <thomas@openedhand.com>

	* libmokoui/Makefile.am:
	* libmokoui/moko-ui.h:
	Added moko-ui.h to include all libmokoui headers

	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h:
	Add copyright headers

2007-05-02  Thomas Wood  <thomas@openedhand.com>

	* Makefile.am:
	* configure.ac:
	* po/LINGUAS:
	* po/Makefile.in.in:
	Add gettext and intltool support

	* libmokoui/Makefile.am:
	* libmokoui/moko-stock.c:
	* libmokoui/moko-stock.h:
	Add moko-stock for adding OpenMoko stock items

2007-04-27 Dodji Seketeli <dodji@openedhand.com>

	* src/target/OM-2007/openmoko-libs/libmokojournal/src/moko-journal.c:
	  changed the caller/callee number props into local/distant props.
	* src/target/OM-2007/openmoko-libs/libmokojournal/src/moko-time.c,h:
	  added moko_time_as_timet()

2007-04-27  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-window.c: (moko_window_set_status_message),
	(moko_window_set_status_progress):
	* libmokoui/moko-window.h:
	Add functionality for controlling footer.

2007-04-26 Dodji Seketeli <dodji@openedhand.com>

	* src/target/OM-2007/openmoko-libs/libmokojournal/src/moko-journal.c,h:
	  added a MokoJournalVoiceInfo::callee_number.
	  Rename MokoJournalVoiceInfo::dialed_number into
	  MokoJournalVoiceInfo::caller_number. Both properties are serialized.


2007-04-26 Dodji Seketeli <dodji@openedhand.com>

	* src/target/OM-2007/openmoko-libs/libmokojournal/src/moko-journal.c,h:
	  added MokoJournalVoiceInfo::dialed_number
	  and MokoJournalVoiceInfo::was_missed properties. These a serialized
	  and deserialized.
	  Started to add MokoJournalEntry::wifi_ap_mac and
	  MokoJournalEntry::bluetooth_ap_mac entries. not finished
	* src/target/OM-2007/openmoko-libs/libmokojournal/tests/test-create.c:
	  updated this to test dialed number an "was-missed" property.

2007-04-26 Dodji Seketeli <dodji@openedhand.com>

	* oe/conf/distro/include/sane-srcdates.inc: this needs and update of the version
	  of edsdbus to svn 20070426 because we pushed a couple of fixes and enhancement in
	  there. These fixes/enhancements are mandatory for this patch to work.
	* src/target/OM-2007/openmoko-libs/libmokojournal/src/moko-journal.c,h: 
	  re-organize the properties supported. Added "direction", "gsmlocation"
	  and "startlocation" properties.
	* src/target/OM-2007/openmoko-libs/libmokojournal/tests/test-create.c:
	  Update this to test the new properties.

2007-04-25  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-paned-window.c: (moko_paned_window_init),
	(moko_paned_window_set_ratio):
	Improve the moko_paned_window_set_ratio function. It's just the ratio
	of the top half (including menu area and toolbox) to the bottom half.
	No need to be try and be clever about considering the menu and toolbox
	because its not clear what the ratio means in that case.
	Set a default ratio of 1:1.

2007-04-25  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-scrolled-pane.c:
	(moko_scrolled_pane_pack_with_viewport):
	* libmokoui/moko-scrolled-pane.h:
	Add a moko_scrolled_pane_pack_with_viewport function.

2007-04-25  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-scrolled-pane.c: (moko_scrolled_pane_pack),
	(moko_scrolled_pane_unpack), (moko_scrolled_pane_get_child):
	* libmokoui/moko-scrolled-pane.h:
	Improve the API for the MokoScrolledPane widget (see Bugzilla #512.)

2007-04-16  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-message-dialog.c: (moko_message_dialog_map),
	(moko_message_dialog_class_init), (moko_message_dialog_realize_cb),
	(moko_message_dialog_expose_event_cb), (moko_message_dialog_init):
	Add support for pseudo-transparent blending of the dialog box's
	background.

2007-04-13 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/src/moko-journal.c:
	  (moko_journal_load_from_storage): make sure we get notified when
	  another process removes an entry.
	  (on_entries_removed_cb): added this to handle entry removal by
	  another process.

2007-04-13 Dodji Seketeli <dodji@openedhand.com>

	* *.h,c: changed moko_j_email_info* into moko_journal_email_info*
	* openmoko-libs/libmokojournal/src/moko-journal.c:
	  (moko_journal_remove_entry_at): only entries that has been
	  persisted should be queued for removal from eds.
	  (moko_journal_write_to_storage): do not cry too much when
	  an entry queued for removal could not be removed. It can happen
	  in nominal cases, for instance another process could have
	  deleted it already.
	* openmoko-libs/libmokojournal/tests/test-create.c: update this
	  because of the moko_j_email* into moko_journal_email renaming.

2007-04-12 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/src/moko-journal.c,h:
	  (moko_journal_remove_entry_by_uid): added this new entry point.
	  (moko_journal_entry_get_uid): ditto
	* openmoko-libs/libmokojournal/tests/test-delete-uid.c: added
	  this to test/debug removal by uid.

2007-04-12 Dodji Seketeli <dodji@openedhand.com>

	*  openmoko-libs/libmokojournal/src/moko-journal.[c|h]:
	   change moko_j_entry* into moko_journal_entry*,
	   MokoJEntry, into MokoJournalEntry, etc.
	   That is for better legibility.

2007-04-12 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/src/moko-journal.c: 
	  (moko_j_entry_free_real): fix a leak in here.
	  (moko_journal_remove_entry_at): make this really remove
	  the entries from MokoJournal::entries.
	  (moko_journal_write_to_storage): fix a leak.
	* openmoko-libs/libmokojournal/tests/test-create.c: added comments
	  and licensing blurb.
	* openmoko-libs/libmokojournal/tests/test-delete.c: added
	  this new file to test/debug entries deletion.

2007-04-11 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/src/moko-journal.c,h:
	  added new entry points to load, remove and iterate over journal
	  entries. Make sure load entries, add entry, and iterate works.
	  Still have to debug the remove entries part.
	  Also this has been done for EMAIL_JOURNAL_ENTRY type of entries.
	  We still need to add support of other types of the journal entry
	  types like MMS, SMS, VOICE_CALL, etc ...
	* openmoko-libs/libmokojournal/src/moko-time-priv.h:
	  added a private function to instanciate MokoTime from icaltimetype.
	* openmoko-libs/libmokojournal/tests/test-create.c: debugged
	  "load entries" and "add entry" work properly.
	  Still need to commit a test-delete.c soonish.

2007-04-10  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-message-dialog.c:
	(moko_message_dialog_set_message):
	* libmokoui/moko-message-dialog.h:
	Give the moko_dialog_set_message function a vsprintf varargs parameter
	and use this when generating the message.

	Patch from Chaowei Song <songcw@fic-sh.com.cn>.

2007-04-06 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/src/*: moved what
	  was in openmoko-libs/libmokojournal/ into here.
	  openmoko-libs/libmokojournal/test will then contain test
	  functions.
	* openmoko-libs/libmokojournal/src/moko-journal.c: implemented
	  and debugged the needed functions to create an entry (of type email)
	  and save it in the journal, on persistent storage.
	  The journal is in ~/.moko/journal/journal.ics
	  Next step from now is to be able to load that journal.
	* openmoko-libs/libmokojournal/tests/test-create.c:
	  Tested the basic journal entry creation and saving
	  into the journal.

2007-04-05  Rob Bradford  <rob@openedhand.com>

	* configure.ac:
	Need to use gdk-pixbuf pkg-config file.

	* libmokoui/Makefile.am:
	* libmokoui/moko-message-dialog.c:
	(moko_message_dialog_get_property),
	(moko_message_dialog_set_property), (moko_message_dialog_dispose),
	(moko_message_dialog_finalize), (moko_message_dialog_class_init),
	(moko_message_dialog_shape_window),
	(moko_message_dialog_realize_cb), (moko_message_dialog_init),
	(moko_message_dialog_set_message),
	(moko_message_dialog_set_image_from_stock),
	(moko_message_dialog_new):
	* libmokoui/moko-message-dialog.h:
	First pass at a MokoMessageDialog.

2007-04-05  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-dialog.c: (moko_dialog_init):
	Remove close button. It isn't on the mockups.

2007-04-03 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/moko-journal.c: started to
	  implement the obvious, to see if there are hidden stones
	* openmoko-libs/libmokojournal/moko-journal.h: abstract
	  icaltime completely in MokoTime
	* openmoko-libs/libmokojournal/moko-time.h: provide headers
	  for the icaltime abstraction.

2007-04-03  Rob Bradford  <rob@openedhand.com>

	* libmokoui/moko-dialog.c: (moko_dialog_add_button),
	(moko_dialog_add_button_secondary),
	(moko_dialog_set_button_secondary),
	(moko_dialog_get_button_secondary):
	Provide framework for easily dealing with secondary buttons.

	* libmokoui/moko-dialog.h:
	Add moko_dialog_set_title prototype to the header file.
	Add prototypes for new functions.

2007-04-02 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/libmokojournal/moko-journal.[c|h]:
	  went forward with the API proposal

2007-03-30 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/configure.ac: add libecal as a dependency.
	  This is used by libmokojournal.
	* openmoko-libs/libmokojournal/moko-journal.h: started to draft the
	  obvious part of the API.

2007-03-29 Dodji Seketeli <dodji@openedhand.com>

	* openmoko-libs/Makefile.am, openmoko-libs/configure.ac: declare
	  the new openmoko-libs/openmokojournal directory
	* openmoko-libs/libmokojournal/Makefile.am: added the new boilerplate
	  moko-journal.[c|h] files.
	* openmoko-libs/libmokojournal/moko-journal.c,h: added these new
	  empty files.

2007-03-29  Rob Bradford  <rob@openedhand.com>

	* libmokoui/Makefile.am:
	* libmokoui/moko-dialog.c: (moko_dialog_get_property),
	(moko_dialog_set_property), (moko_dialog_dispose),
	(moko_dialog_finalize), (moko_dialog_class_init),
	(moko_dialog_closebutton_cb), (moko_dialog_init),
	(moko_dialog_set_title), (button_clicked_cb),
	(response_id_free_cb), (moko_dialog_set_button_response_id),
	(moko_dialog_get_button_response_id),
	(moko_dialog_add_button_widget), (moko_dialog_add_button),
	(moko_dialog_add_buttons), (moko_dialog_response),
	(moko_dialog_new), (shutdown_loop), (run_unmap_handler),
	(run_response_handler), (run_delete_handler),
	(run_destroy_handler), (moko_dialog_run):
	* libmokoui/moko-dialog.h:
	Add MokoDialog implementation that looks just like MokoDialogWindow
	except behaves like GtkDialog.

